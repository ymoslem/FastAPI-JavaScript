!function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],t="undefined"!=typeof window,o=t&&null!=window.mozInnerScreenX;function i(i,r,n){if(!t)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=n&&n.debug||!1;if(d){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var p=l.style,h=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,s="INPUT"===i.nodeName;p.whiteSpace="pre-wrap",s||(p.wordWrap="break-word"),p.position="absolute",d||(p.visibility="hidden"),e.forEach(function(e){if(s&&"lineHeight"===e)if("border-box"===h.boxSizing){var t=parseInt(h.height),o=parseInt(h.paddingTop)+parseInt(h.paddingBottom)+parseInt(h.borderTopWidth)+parseInt(h.borderBottomWidth),i=o+parseInt(h.lineHeight);p.lineHeight=t>i?t-o+"px":t===i?h.lineHeight:0}else p.lineHeight=h.height;else p[e]=h[e]}),o?i.scrollHeight>parseInt(h.height)&&(p.overflowY="scroll"):p.overflow="hidden",l.textContent=i.value.substring(0,r),s&&(l.textContent=l.textContent.replace(/\s/g,"Â "));var g=document.createElement("span");g.textContent=i.value.substring(r)||".",l.appendChild(g);var f={top:g.offsetTop+parseInt(h.borderTopWidth),left:g.offsetLeft+parseInt(h.borderLeftWidth),height:parseInt(h.lineHeight)};return d?g.style.backgroundColor="#aaa":document.body.removeChild(l),f}"undefined"!=typeof module&&void 0!==module.exports?module.exports=i:t&&(window.getCaretCoordinates=i)}();